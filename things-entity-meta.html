<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../things-ajax/things-ajax.html">
<link rel="import" href="things-entity-meta-behavior.html">

<!-- 
<b>Example</b> 

		<things-entity-meta 
		  id="resourceMeta" 
		  resource-type="Role" 
		  sort-fields = "{{sortFields}}"
		  select-fields="{{selectFields}}"
		  search-form-fields ="{{searchFormFields}}"
		  resource-form-fields ="{{resourceFormFields}}"
		  grid-model ="{{gridModel}}"
		  grid-columns ="{{gridColumns}}">
		</things-entity-meta>


		resourceMeta.loadMeta();

@demo demo/index.html
 -->
<dom-module id="things-entity-meta">
	<template>
		<things-ajax 
			id="meta-ajax"
			resource-url="{{entityMetaUrl}}"
			resource-action="find"
			last-response="{{metaData}}">
		</things-ajax>
	</template>

	<script>
		Polymer({
			is: 'things-entity-meta',
			
			behaviors: [ Things.EntityMetaBehavior ],

			/**
			 * load resource meta data
			 */
			loadMeta: function() {
				this.$['meta-ajax'].generateRequest();
			}
		});
	</script>
</dom-module>